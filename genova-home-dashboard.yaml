# Genova Home Dashboard
# Comprehensive smart home dashboard for Genova, Italy
# Similar layout to the Paris dashboard but customized for your location and heating system
#
# To add this dashboard in Home Assistant:
# 1. Go to Settings → Dashboards
# 2. Click the three dots menu (⋮) → "Edit Dashboard"
# 3. Click the three dots menu again → "Raw configuration editor"
# 4. Paste this entire file content
# 5. Save

views:
  - title: Genova Home
    path: genova-home
    icon: mdi:home
    badges: []
    cards:
      # Header with location and temperatures
      - type: markdown
        content: |
          ## Genova, Italy
          **Outdoor:** {{ states('weather.forecast_home') | capitalize }} {{ state_attr('weather.forecast_home', 'temperature') }}°C | **Indoor:** {{ (state_attr('climate.sala', 'current_temperature') | float + state_attr('climate.kitchen', 'current_temperature') | float + state_attr('climate.bedroom', 'current_temperature') | float + state_attr('climate.bathroom', 'current_temperature') | float + state_attr('climate.liam', 'current_temperature') | float + state_attr('climate.entrance', 'current_temperature') | float) / 6 | round(1) }}°C

      # Main Grid Layout - 3 columns like the original
      - type: grid
        columns: 3
        square: false
        cards:
          # ===== LEFT COLUMN: Weather Information =====
          
          # Weather Card (Current + 5-day forecast)
          - type: vertical-stack
            cards:
              - type: weather-forecast
                entity: weather.forecast_home
                name: Météo
                show_forecast: true
                forecast_type: daily
                number_of_forecasts: 5
              
              - type: weather-forecast
                entity: weather.forecast_home
                name: Previsioni Orarie (Notte)
                show_forecast: true
                forecast_type: hourly
                number_of_forecasts: 6

          # Hourly forecast graph
          - type: history-graph
            title: Previsioni Meteo - Genova
            hours_to_show: 24
            refresh_interval: 60
            entities:
              - entity: weather.forecast_home
                name: Temperatura

          # Sunrise/Sunset Card
          - type: vertical-stack
            cards:
              - type: entities
                title: Lever du soleil / Coucher du soleil
                show_header_toggle: false
                entities:
                  - entity: sun.sun
                    name: Lever du soleil
                    icon: mdi:weather-sunset-up
                  - entity: sun.sun
                    name: Coucher du soleil
                    icon: mdi:weather-sunset-down
              - type: sun-card

          # ===== MIDDLE/RIGHT COLUMN: Indoor Climate =====
          
          # Temperature Card - All Rooms
          - type: entities
            title: Temperature
            show_header_toggle: false
            entities:
              - entity: climate.sala
                name: Sala
                icon: mdi:thermometer
                attribute: current_temperature
                unit: "°C"
              - entity: climate.kitchen
                name: Cucina
                icon: mdi:thermometer
                attribute: current_temperature
                unit: "°C"
              - entity: climate.bedroom
                name: Camera da Letto
                icon: mdi:thermometer
                attribute: current_temperature
                unit: "°C"
              - entity: climate.bathroom
                name: Bagno
                icon: mdi:thermometer
                attribute: current_temperature
                unit: "°C"
              - entity: climate.liam
                name: Camera Liam
                icon: mdi:thermometer
                attribute: current_temperature
                unit: "°C"
              - entity: climate.entrance
                name: Ingresso
                icon: mdi:thermometer
                attribute: current_temperature
                unit: "°C"
              - type: divider
              - entity: weather.forecast_home
                name: Exterieur
                icon: mdi:thermometer
                attribute: temperature
                unit: "°C"

          # Air Quality (Indoor) - Humidity
          - type: entities
            title: Qualite Air (Intérieur)
            show_header_toggle: false
            entities:
              - entity: climate.sala
                name: Sala
                icon: mdi:water-percent
                attribute: current_humidity
                unit: "%"
              - entity: climate.kitchen
                name: Cucina
                icon: mdi:water-percent
                attribute: current_humidity
                unit: "%"
              - entity: climate.bedroom
                name: Camera da Letto
                icon: mdi:water-percent
                attribute: current_humidity
                unit: "%"
              - entity: climate.bathroom
                name: Bagno
                icon: mdi:water-percent
                attribute: current_humidity
                unit: "%"
              - entity: climate.liam
                name: Camera Liam
                icon: mdi:water-percent
                attribute: current_humidity
                unit: "%"
              - entity: climate.entrance
                name: Ingresso
                icon: mdi:water-percent
                attribute: current_humidity
                unit: "%"
              - type: divider
              - type: markdown
                content: |
                  **CO2 (S8):** Indisponible

          # Air Quality (Outdoor) - Weather attributes
          - type: entities
            title: Qualite Air (Meteo)
            show_header_toggle: false
            entities:
              - entity: weather.forecast_home
                name: Genova Pression
                icon: mdi:gauge
                attribute: pressure
                unit: "hPa"
              - entity: weather.forecast_home
                name: Genova Humidité
                icon: mdi:water-percent
                attribute: humidity
                unit: "%"
              - entity: weather.forecast_home
                name: Genova Vent
                icon: mdi:weather-windy
                attribute: wind_speed
                unit: "km/h"
              - entity: weather.forecast_home
                name: Genova Visibilité
                icon: mdi:eye
                attribute: visibility
                unit: "km"
              - entity: weather.forecast_home
                name: Genova UV Index
                icon: mdi:weather-sunny
                attribute: uv_index

          # CO2 Level Card (placeholder - shows N/A if no CO2 sensor)
          - type: markdown
            content: |
              ### CO2 Level
              **N/A ppm**
              
              *No CO2 sensor configured*

          # ===== THERMOSTAT CONTROL =====
          - type: vertical-stack
            cards:
              - type: markdown
                content: |
                  ### Thermostat
                  **Chauffage Sol SdB** (Floor Heating Bathroom)
              
              - type: thermostat
                entity: climate.bathroom
                name: Bagno
              
              - type: entities
                show_header_toggle: false
                entities:
                  - entity: climate.bathroom
                    name: Actuellement
                    icon: mdi:thermometer
                    attribute: current_temperature
                    unit: "°C"
                  - entity: climate.bathroom
                    name: État
                    icon: mdi:information
                    attribute: hvac_action
              
              - type: markdown
                content: |
                  **Mode de Chauffage**
              
              - type: horizontal-stack
                cards:
                  - type: button
                    name: off
                    icon: mdi:power
                    tap_action:
                      action: call-service
                      service: climate.set_hvac_mode
                      target:
                        entity_id: climate.bathroom
                      service_data:
                        hvac_mode: off
                    show_state: true
                    show_name: true
                  - type: button
                    name: heat
                    icon: mdi:radiator
                    tap_action:
                      action: call-service
                      service: climate.set_hvac_mode
                      target:
                        entity_id: climate.bathroom
                      service_data:
                        hvac_mode: heat
                    show_state: true
                    show_name: true
                  - type: button
                    name: auto
                    icon: mdi:auto-fix
                    tap_action:
                      action: call-service
                      service: climate.set_hvac_mode
                      target:
                        entity_id: climate.bathroom
                      service_data:
                        hvac_mode: auto
                    show_state: true
                    show_name: true
              
              - type: markdown
                content: |
                  **Présence**
              
              - type: horizontal-stack
                cards:
                  - type: button
                    name: none
                    icon: mdi:account-off
                    tap_action:
                      action: call-service
                      service: climate.set_preset_mode
                      target:
                        entity_id: climate.bathroom
                      service_data:
                        preset_mode: away
                    show_state: true
                    show_name: true
                  - type: button
                    name: away
                    icon: mdi:home-export
                    tap_action:
                      action: call-service
                      service: climate.set_preset_mode
                      target:
                        entity_id: climate.bathroom
                      service_data:
                        preset_mode: away
                    show_state: true
                    show_name: true

      # Additional Heating Controls for All Rooms
      - type: markdown
        content: |
          ## Contrôles de Chauffage - Toutes les Pièces

      - type: grid
        columns: 3
        square: false
        cards:
          # Sala
          - type: vertical-stack
            cards:
              - type: markdown
                content: |
                  ### Sala
              - type: thermostat
                entity: climate.sala
              - type: entities
                show_header_toggle: false
                entities:
                  - entity: climate.sala
                    name: Température Actuelle
                    attribute: current_temperature
                    unit: "°C"
                  - entity: climate.sala
                    name: État
                    attribute: hvac_action

          # Kitchen
          - type: vertical-stack
            cards:
              - type: markdown
                content: |
                  ### Cucina
              - type: thermostat
                entity: climate.kitchen
              - type: entities
                show_header_toggle: false
                entities:
                  - entity: climate.kitchen
                    name: Température Actuelle
                    attribute: current_temperature
                    unit: "°C"
                  - entity: climate.kitchen
                    name: État
                    attribute: hvac_action

          # Bedroom
          - type: vertical-stack
            cards:
              - type: markdown
                content: |
                  ### Camera da Letto
              - type: thermostat
                entity: climate.bedroom
              - type: entities
                show_header_toggle: false
                entities:
                  - entity: climate.bedroom
                    name: Température Actuelle
                    attribute: current_temperature
                    unit: "°C"
                  - entity: climate.bedroom
                    name: État
                    attribute: hvac_action

          # Liam
          - type: vertical-stack
            cards:
              - type: markdown
                content: |
                  ### Camera Liam
              - type: thermostat
                entity: climate.liam
              - type: entities
                show_header_toggle: false
                entities:
                  - entity: climate.liam
                    name: Température Actuelle
                    attribute: current_temperature
                    unit: "°C"
                  - entity: climate.liam
                    name: État
                    attribute: hvac_action

          # Entrance
          - type: vertical-stack
            cards:
              - type: markdown
                content: |
                  ### Ingresso
              - type: thermostat
                entity: climate.entrance
              - type: entities
                show_header_toggle: false
                entities:
                  - entity: climate.entrance
                    name: Température Actuelle
                    attribute: current_temperature
                    unit: "°C"
                  - entity: climate.entrance
                    name: État
                    attribute: hvac_action

          # Bathroom
          - type: vertical-stack
            cards:
              - type: markdown
                content: |
                  ### Bagno
              - type: thermostat
                entity: climate.bathroom
              - type: entities
                show_header_toggle: false
                entities:
                  - entity: climate.bathroom
                    name: Température Actuelle
                    attribute: current_temperature
                    unit: "°C"
                  - entity: climate.bathroom
                    name: État
                    attribute: hvac_action
